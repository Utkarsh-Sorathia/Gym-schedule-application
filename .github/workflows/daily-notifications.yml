name: Daily Gym Notifications

on:
    schedule:
        # TEST: Runs at 11:10 AM IST (5:40 UTC) - Change back to '0 13 * * *' for 6:30 PM IST
        - cron: "0 12 * * *"
    workflow_dispatch: # Allows manual triggering for testing

jobs:
    send-notifications:
        runs-on: ubuntu-latest
        steps:
            - name: Send Notification Request
              run: |
                  curl -X GET "${{ secrets.NEXT_PUBLIC_BASE_URL }}/api/notifications/cron" \
                    -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}" \
                    -H "Content-Type: application/json"
